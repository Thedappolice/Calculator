package com.project.calculator

import java.lang.Math.*


fun main() {

    val calculator = Calculator()
    var name = ""
    var number1 = 0
    var number2 = 0
    var mode: Int = 0
    var state = true
    var repeat = true
    var valueBefore = 0
    var continues = true

    println("Before we begin, how may i address you? Enter your preferred name :")
    var input = readln()
    name = input

    println("Greetings, $input, welcome to the calculator.")

    while (repeat) {
        while (state) {
            println("Please choose your wanted fuction, addition, subtraction, multiplication or division : ")
            input = readln()
            when (input) {
                "addition" -> {
                    mode = 1
                    state = false
                }

                "subtraction" -> {
                    mode = 2
                    state = false
                }

                "multiplication" -> {
                    mode = 3
                    state = false
                }

                "division" -> {
                    mode = 4
                    state = false
                }

                else -> {
                    println("That response in invalid, please try again.\nDo note to type your inputs as specific as stated below:\n - subtraction\n- multiplication\n- division")
                }
            }
        }

        print("Well then, $input it is, enter 2 numbers to perform the operation.")
        println("First number :")
        number1 = readln().toInt()
        println("Second number :")
        number2 = readln().toInt()

        when (mode) {
            1 -> {
                valueBefore = calculator.add(number1, number2)
            }

            2 -> {
                valueBefore = calculator.minus(number1, number2)
            }

            3 -> {
                valueBefore = calculator.multiply(number1, number2)
            }

            4 -> {
                valueBefore = calculator.divide(number1, number2)
            }
        }

        state = true
        while (state) {
            println("Well then, $name, would you still like to use the calculator? (Y/N)")
            input = readln()
            when (input) {
                "Y" -> {
                    state = false
                }

                "N" -> {
                    println("Thanks for using the Calculator, I bid thy farewell")
                    state = false
                    repeat = false
                }

                else -> {
                    println("input received is not recognisable, only \'Y\' or \'N\' is accepted.")
                }
            }
            if(repeat) {
                println("Great, well do you still wanna continue the previous result? (Y/N)")
                input = readln()
            }
        }
    }
}

class Calculator {
    public fun add(a: Int, b: Int): Int {
        val result = a + b
        println("$a + $b = $result")
        return result
    }

    public fun minus(a: Int, b: Int): Int {
        val result = a - b
        println("$a - $b = $result")
        return result
    }

    public fun multiply(a: Int, b: Int): Int {
        val result = a * b
        println("$a x $b = $result")
        return result
    }

    public fun divide(a: Int, b: Int): Int {
        val result = a / b
        println("$a / $b = $result")
        return result
    }
}
